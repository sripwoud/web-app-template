amends "package://github.com/jdx/hk/releases/download/v1.1.0/hk@1.1.0#/Config.pkl"

local linters  = new Mapping<String, Step> {
  ["fmt"]  {
    fix = "dprint fmt"
    stage = "*"
  }
  ["lint"] {
    check = "biome lint --config-path=.biome.jsonc --no-errors-on-unmatched {{files}}"
  }
  ["typecheck"] {
    check = "tsc -p web/tsconfig.app.json"
  }
}

hooks {
  ["pre-commit"] {
    fix = true
    stash = "git"
    steps {
      ...linters
    }
  }
}